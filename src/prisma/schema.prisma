generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "mysql"
  url      = env("DATABASE_URL")
}

model category {
  category_id Int    @id
  name        String
}

model credentials {
  Credentials_ID Int     @default(autoincrement()) @id
  Register_No    Int
  Username       String  @unique
  Password       String
  student        student @relation(fields: [Register_No], references: [Register_No])

  @@index([Register_No], name: "Register_No")
}

model person {
  Person_ID               Int       @id
  Prefix_Ref              Int?
  First_Name              String?
  Last_Name               String?
  Gender_Ref              Int?
  DOB                     DateTime?
  Community_Ref           Int?
  Caste                   String?
  Primary_MailID          String?
  Secondary_MailID        String?
  Aadhar_Card             Int?
  PAN_Card                String?
  Passport_Number         String?
  Primary_ContactNumber   String?
  Secondary_ContactNumber String?
  Intercom_Number         String?
  Alias_Name              String?
  Address_Line1           String?
  Address_Line2           String?
  Address_Line3           String?
  Address_Line4           String?
  // This type is currently not supported.
  // Photo                binary?
  Marital_Status_Ref      Int?
  Room_Num                String?

  @@index([Community_Ref], name: "Community_Reference_ID_FK_idx")
  @@index([Gender_Ref], name: "Gender_Reference_ID_FK_idx")
  @@index([Marital_Status_Ref], name: "Marital_Status_Reference_ID_FK_idx")
  @@index([Prefix_Ref], name: "Prefix_Reference_ID_FK_idx")
}

model person_guestlecture {
  GuestLecture_ID        Int                     @default(autoincrement()) @id
  Person_ID              Int
  Level_Ref              Int?
  Topic                  String?
  Programme              String?
  Organization           String?
  Place                  String?
  Start_Date             DateTime?
  person_reference_table person_reference_table? @relation(fields: [Level_Ref], references: [Ref_Code])
  student                student                 @relation(fields: [Person_ID], references: [Register_No])

  @@index([Level_Ref], name: "Level_Reference_ID_FK_idx")
  @@index([Person_ID], name: "Person_ID_FK215")
}

model person_reference_table {
  Reference_ID                                                                                           Int                           @default(autoincrement()) @id
  Ref_Code                                                                                               Int?                          @unique
  Category                                                                                               String?
  Ref_Name                                                                                               String?
  Description                                                                                            String?
  person_guestlecture                                                                                    person_guestlecture[]
  student_person_reference_tableTostudent_Admission_Category_Ref                                         student[]                     @relation("person_reference_tableTostudent_Admission_Category_Ref")
  student_person_reference_tableTostudent_Blood_Group_Ref                                                student[]                     @relation("person_reference_tableTostudent_Blood_Group_Ref")
  student_person_reference_tableTostudent_Branch_Ref                                                     student[]                     @relation("person_reference_tableTostudent_Branch_Ref")
  student_person_reference_tableTostudent_Community_Ref                                                  student[]                     @relation("person_reference_tableTostudent_Community_Ref")
  student_person_reference_tableTostudent_Gender_Ref                                                     student[]                     @relation("person_reference_tableTostudent_Gender_Ref")
  student_person_reference_tableTostudent_NSS_NSO_YRC_Volunteer_Ref                                      student[]                     @relation("person_reference_tableTostudent_NSS_NSO_YRC_Volunteer_Ref")
  student_person_reference_tableTostudent_Programme_Ref                                                  student[]                     @relation("person_reference_tableTostudent_Programme_Ref")
  student_person_reference_tableTostudent_Registration_Mode_Ref                                          student[]                     @relation("person_reference_tableTostudent_Registration_Mode_Ref")
  student_person_reference_tableTostudent_Residential_Type_Ref                                           student[]                     @relation("person_reference_tableTostudent_Residential_Type_Ref")
  student_person_reference_tableTostudent_Scholarship_Received_Ref                                       student[]                     @relation("person_reference_tableTostudent_Scholarship_Received_Ref")
  student_awards_person_reference_tableTostudent_awards_Award_Category_Ref                               student_awards[]              @relation("person_reference_tableTostudent_awards_Award_Category_Ref")
  student_awards_person_reference_tableTostudent_awards_Award_Type_Ref                                   student_awards[]              @relation("person_reference_tableTostudent_awards_Award_Type_Ref")
  student_courses_person_reference_tableTostudent_courses_Class_Type_Ref                                 student_courses[]             @relation("person_reference_tableTostudent_courses_Class_Type_Ref")
  student_courses_person_reference_tableTostudent_courses_Group_Ref                                      student_courses[]             @relation("person_reference_tableTostudent_courses_Group_Ref")
  student_courses_person_reference_tableTostudent_courses_Semester_Ref                                   student_courses[]             @relation("person_reference_tableTostudent_courses_Semester_Ref")
  student_courses_person_reference_tableTostudent_courses_Session_Ref                                    student_courses[]             @relation("person_reference_tableTostudent_courses_Session_Ref")
  student_endsemmarks                                                                                    student_endsemmarks[]
  student_events_participated_person_reference_tableTostudent_events_participated_Event_Type_Ref         student_events_participated[] @relation("person_reference_tableTostudent_events_participated_Event_Type_Ref")
  student_events_participated_person_reference_tableTostudent_events_participated_Participation_Type_Ref student_events_participated[] @relation("person_reference_tableTostudent_events_participated_Participation_Type_Ref")
  student_higherstudies                                                                                  student_higherstudies[]
  student_internship_person_reference_tableTostudent_internship_Selection_Mode_Ref                       student_internship[]          @relation("person_reference_tableTostudent_internship_Selection_Mode_Ref")
  student_internship_person_reference_tableTostudent_internship_Stiphend_Option_Ref                      student_internship[]          @relation("person_reference_tableTostudent_internship_Stiphend_Option_Ref")
  student_placement                                                                                      student_placement[]
}

model student {
  Register_No                                                                      Int                           @id
  First_Name                                                                       String?
  Middle_Name                                                                      String?
  Last_Name                                                                        String?
  Gender_Ref                                                                       Int?
  DOB                                                                              DateTime?
  Community_Ref                                                                    Int?
  Caste                                                                            String?
  MailID                                                                           String?
  Aadhar_Card                                                                      String?
  Primary_ContactNumber                                                            String?
  Secondary_ContactNumber                                                          String?
  Address_Line1                                                                    String?
  Address_Line2                                                                    String?
  Address_Line3                                                                    String?
  Address_Line4                                                                    String?
  Correspondence_Address                                                           String?
  Photo                                                                            String?
  Residential_Type_Ref                                                             Int?
  FA                                                                               Int?
  Programme_Ref                                                                    Int?
  Branch_Ref                                                                       Int?
  Registration_Mode_Ref                                                            Int?
  Blood_Group_Ref                                                                  Int?
  GATE_Cutoff_Mark                                                                 Float?
  Admission_Date                                                                   DateTime?
  Admission_Category_Ref                                                           Int?
  Scholarship_Received_Ref                                                         Int?
  Scholarship_Details                                                              String?
  NSS_NSO_YRC_Volunteer_Ref                                                        Int?
  Hostel_Block_Room                                                                String?
  person_reference_table_person_reference_tableTostudent_Admission_Category_Ref    person_reference_table?       @relation("person_reference_tableTostudent_Admission_Category_Ref", fields: [Admission_Category_Ref], references: [Ref_Code])
  person_reference_table_person_reference_tableTostudent_Blood_Group_Ref           person_reference_table?       @relation("person_reference_tableTostudent_Blood_Group_Ref", fields: [Blood_Group_Ref], references: [Ref_Code])
  person_reference_table_person_reference_tableTostudent_Branch_Ref                person_reference_table?       @relation("person_reference_tableTostudent_Branch_Ref", fields: [Branch_Ref], references: [Ref_Code])
  person_reference_table_person_reference_tableTostudent_Community_Ref             person_reference_table?       @relation("person_reference_tableTostudent_Community_Ref", fields: [Community_Ref], references: [Ref_Code])
  person_reference_table_person_reference_tableTostudent_Gender_Ref                person_reference_table?       @relation("person_reference_tableTostudent_Gender_Ref", fields: [Gender_Ref], references: [Ref_Code])
  person_reference_table_person_reference_tableTostudent_NSS_NSO_YRC_Volunteer_Ref person_reference_table?       @relation("person_reference_tableTostudent_NSS_NSO_YRC_Volunteer_Ref", fields: [NSS_NSO_YRC_Volunteer_Ref], references: [Ref_Code])
  person_reference_table_person_reference_tableTostudent_Programme_Ref             person_reference_table?       @relation("person_reference_tableTostudent_Programme_Ref", fields: [Programme_Ref], references: [Ref_Code])
  person_reference_table_person_reference_tableTostudent_Registration_Mode_Ref     person_reference_table?       @relation("person_reference_tableTostudent_Registration_Mode_Ref", fields: [Registration_Mode_Ref], references: [Ref_Code])
  person_reference_table_person_reference_tableTostudent_Residential_Type_Ref      person_reference_table?       @relation("person_reference_tableTostudent_Residential_Type_Ref", fields: [Residential_Type_Ref], references: [Ref_Code])
  person_reference_table_person_reference_tableTostudent_Scholarship_Received_Ref  person_reference_table?       @relation("person_reference_tableTostudent_Scholarship_Received_Ref", fields: [Scholarship_Received_Ref], references: [Ref_Code])
  course_registered_students                                                       course_registered_students[]
  credentials                                                                      credentials[]
  person_guestlecture                                                              person_guestlecture[]
  student_awards                                                                   student_awards[]
  student_courses                                                                  student_courses[]
  student_endsemmarks                                                              student_endsemmarks[]
  student_events_participated                                                      student_events_participated[]
  student_family_details                                                           student_family_details[]
  student_gpa                                                                      student_gpa[]
  student_higherstudies                                                            student_higherstudies[]
  student_internalmarks                                                            student_internalmarks[]
  student_internship                                                               student_internship[]
  student_placement                                                                student_placement[]

  @@index([Admission_Category_Ref], name: "Admission_Category_FK_idx")
  @@index([Blood_Group_Ref], name: "Blood_Group_FK_idx")
  @@index([Branch_Ref], name: "Branch_Reference_ID_FK_idx")
  @@index([Community_Ref], name: "Community_Reference_ID_FK_idx")
  @@index([Gender_Ref], name: "Gender_Reference_ID_FK_idx")
  @@index([Programme_Ref], name: "Programme_Reference_ID_FK_idx")
  @@index([Registration_Mode_Ref], name: "Registration_Mode_FK_idx")
  @@index([Residential_Type_Ref], name: "Resedential_Reference_ID_FK_idx")
  @@index([Scholarship_Received_Ref], name: "Scholarship_FK_idx")
  @@index([NSS_NSO_YRC_Volunteer_Ref], name: "Volunteer_FK_idx")
}

model student_awards {
  Award_ID                                                                         Int                     @default(autoincrement()) @id
  Register_No                                                                      Int
  Award_Name                                                                       String?
  Organizer_Name                                                                   String?
  Award_Type_Ref                                                                   Int?
  Award_Category_Ref                                                               Int?
  Place_of_Event                                                                   String?
  Certificate_Copy                                                                 String?
  Award_Date                                                                       DateTime?
  person_reference_table_person_reference_tableTostudent_awards_Award_Category_Ref person_reference_table? @relation("person_reference_tableTostudent_awards_Award_Category_Ref", fields: [Award_Category_Ref], references: [Ref_Code])
  person_reference_table_person_reference_tableTostudent_awards_Award_Type_Ref     person_reference_table? @relation("person_reference_tableTostudent_awards_Award_Type_Ref", fields: [Award_Type_Ref], references: [Ref_Code])
  student                                                                          student                 @relation(fields: [Register_No], references: [Register_No])

  @@index([Award_Category_Ref], name: "Award_Category_FK_idx")
  @@index([Award_Type_Ref], name: "Award_Type_FK_idx")
  @@index([Register_No], name: "Person_ID_FK219")
}

model student_courses {
  Academic_ID                                                                   Int                     @default(autoincrement()) @id
  Register_No                                                                   Int
  Course_Code                                                                   String?
  Staff_ID                                                                      Int?
  Session_Ref                                                                   Int?
  Semester_Ref                                                                  Int?
  Group_Ref                                                                     Int?
  Class_Type_Ref                                                                Int?
  person_reference_table_person_reference_tableTostudent_courses_Class_Type_Ref person_reference_table? @relation("person_reference_tableTostudent_courses_Class_Type_Ref", fields: [Class_Type_Ref], references: [Ref_Code])
  person_reference_table_person_reference_tableTostudent_courses_Group_Ref      person_reference_table? @relation("person_reference_tableTostudent_courses_Group_Ref", fields: [Group_Ref], references: [Ref_Code])
  student                                                                       student                 @relation(fields: [Register_No], references: [Register_No])
  person_reference_table_person_reference_tableTostudent_courses_Semester_Ref   person_reference_table? @relation("person_reference_tableTostudent_courses_Semester_Ref", fields: [Semester_Ref], references: [Ref_Code])
  person_reference_table_person_reference_tableTostudent_courses_Session_Ref    person_reference_table? @relation("person_reference_tableTostudent_courses_Session_Ref", fields: [Session_Ref], references: [Ref_Code])

  @@index([Class_Type_Ref], name: "Class_Type_Reference_ID_FK2_idx")
  @@index([Group_Ref], name: "Group_FK_idx")
  @@index([Register_No], name: "Person_ID_FK219")
  @@index([Semester_Ref], name: "Semester_FK_idx")
  @@index([Session_Ref], name: "Session_FK_idx")
}

model student_endsemmarks {
  Mark_ID                Int                     @default(autoincrement()) @id
  Register_No            Int
  Semester               Int
  Course_Code            String?
  Session_Ref            Int?
  Grade                  String
  Credits                Int?
  Entry_Date             DateTime?
  course_list            course_list?            @relation(fields: [Course_Code], references: [course_code])
  student                student                 @relation(fields: [Register_No], references: [Register_No])
  person_reference_table person_reference_table? @relation(fields: [Session_Ref], references: [Ref_Code])

  @@index([Course_Code], name: "Course_Code")
  @@index([Register_No], name: "Person_ID_FK219")
  @@index([Session_Ref], name: "Session_FK_idx2")
}

model student_events_participated {
  Event_ID                                                                                          Int                     @default(autoincrement()) @id
  Register_No                                                                                       Int
  Event_Name                                                                                        String?
  Event_Type_Ref                                                                                    Int?
  Participation_Type_Ref                                                                            Int?
  Team_Size                                                                                         Int?
  Event_Organizer                                                                                   String?
  Event_Date                                                                                        DateTime?
  Prize_Won_Details                                                                                 String?
  Certificate_Copy                                                                                  String?
  person_reference_table_person_reference_tableTostudent_events_participated_Event_Type_Ref         person_reference_table? @relation("person_reference_tableTostudent_events_participated_Event_Type_Ref", fields: [Event_Type_Ref], references: [Ref_Code])
  person_reference_table_person_reference_tableTostudent_events_participated_Participation_Type_Ref person_reference_table? @relation("person_reference_tableTostudent_events_participated_Participation_Type_Ref", fields: [Participation_Type_Ref], references: [Ref_Code])
  student                                                                                           student                 @relation(fields: [Register_No], references: [Register_No])

  @@index([Event_Type_Ref], name: "Event_Type_FK_idx")
  @@index([Participation_Type_Ref], name: "Participation_Type_FK_idx")
  @@index([Register_No], name: "Person_ID_FK219")
}

model student_family_details {
  Family_ID                     Int     @default(autoincrement()) @id
  Register_No                   Int
  Father_Name                   String?
  Mother_Name                   String?
  Father_ContactNumber          String?
  Mother_ContactNumber          String?
  Father_MailID                 String?
  Mother_MailID                 String?
  Father_Occupation             String?
  Mother_Occupation             String?
  Father_Affilation             String?
  Mother_Affilation             String?
  Father_Company                String?
  Mother_Company                String?
  Parents_Annual_Income         Int?
  Local_Guardian_Name           String?
  Local_Guardian_Address        String?
  Local_Guardian_Contact_Number String?
  student                       student @relation(fields: [Register_No], references: [Register_No])

  @@index([Register_No], name: "Register_Num_FK")
}

model student_gpa {
  Gpa_ID      Int     @default(autoincrement()) @id
  Register_No Int
  Semester    Int
  GPA         Float
  Grade_Sheet String
  student     student @relation(fields: [Register_No], references: [Register_No])

  @@index([Register_No], name: "Register_No")
}

model student_higherstudies {
  HigherStudies_ID       Int                     @default(autoincrement()) @id
  Register_No            Int
  University             String?
  Degree                 String?
  Specialization         String?
  Admission_Mode_Ref     Int?
  Score                  Float?
  Country                String?
  Location               String?
  LOR_Details            String?
  Score_Card_Copy        String
  person_reference_table person_reference_table? @relation(fields: [Admission_Mode_Ref], references: [Ref_Code])
  student                student                 @relation(fields: [Register_No], references: [Register_No])

  @@index([Admission_Mode_Ref], name: "Admission_Mode_FK_idx")
  @@index([Register_No], name: "Person_ID_FK219")
}

model student_internalmarks {
  InternalMark_ID     Int       @default(autoincrement()) @id
  Register_No         Int
  Course_Code         String?
  Session             String?
  Staff_ID            Int?
  Evaluation_Type_Ref Int?
  Max_Mark            Int?
  Entry_Date          DateTime?
  Mark_Scored         Int?
  Weightage           Float?
  Total               Float?
  student             student   @relation(fields: [Register_No], references: [Register_No])

  @@index([Register_No], name: "Person_ID_FK219")
}

model student_internship {
  Internship_ID                                                                         Int                     @default(autoincrement()) @id
  Register_No                                                                           Int
  Company                                                                               String?
  Title                                                                                 String
  Order_Copy                                                                            String?
  Address                                                                               String?
  Start_Date                                                                            DateTime?
  End_Date                                                                              DateTime?
  Stiphend_Option_Ref                                                                   Int?
  Stiphend_Amount                                                                       Float?
  Selection_Mode_Ref                                                                    Int?
  student                                                                               student                 @relation(fields: [Register_No], references: [Register_No])
  person_reference_table_person_reference_tableTostudent_internship_Selection_Mode_Ref  person_reference_table? @relation("person_reference_tableTostudent_internship_Selection_Mode_Ref", fields: [Selection_Mode_Ref], references: [Ref_Code])
  person_reference_table_person_reference_tableTostudent_internship_Stiphend_Option_Ref person_reference_table? @relation("person_reference_tableTostudent_internship_Stiphend_Option_Ref", fields: [Stiphend_Option_Ref], references: [Ref_Code])

  @@index([Register_No], name: "Person_ID_FK219")
  @@index([Selection_Mode_Ref], name: "Stiphend_Mode_FK_idx")
  @@index([Stiphend_Option_Ref], name: "Stiphend_Option_FK_idx")
}

model student_placement {
  Placement_ID                 Int                     @default(autoincrement()) @id
  Register_No                  Int
  Company                      String?
  Package                      Float?
  Appointment_Order_Copy       String?
  Location                     String?
  Designation                  String?
  Appointment_OrderNum         String?
  Appointment_Letter_IssueDate DateTime?
  Joining_Date                 DateTime?
  Placement_Type_Ref           Int?
  person_reference_table       person_reference_table? @relation(fields: [Placement_Type_Ref], references: [Ref_Code])
  student                      student                 @relation(fields: [Register_No], references: [Register_No])

  @@index([Register_No], name: "Person_ID_FK219")
  @@index([Placement_Type_Ref], name: "Placement_Type_FK_idx")
}

model student_tcourses {
  Tcourse_ID Int    @default(autoincrement()) @id
  Degree     String
  Semester   Int
  Code       String
  Title      String
  Credit     Int
}

model user_info {
  user_ID     Int       @default(autoincrement()) @id
  username    Int
  user_role   String?
  password    String?
  status      String?
  create_time DateTime? @default(now())
}

model course_list {
  course_code                String                       @id
  stream                     Int
  regulation                 Int
  semester                   Int
  title                      String
  credit                     Int
  objectives                 String?
  course_registered_students course_registered_students[]
  student_endsemmarks        student_endsemmarks[]
}

model course_registered_students {
  cregst_id   Int         @default(autoincrement()) @id
  course_code String
  reg_no      Int
  semester    Int
  group_ref   Int
  session_ref Int
  course_list course_list @relation(fields: [course_code], references: [course_code])
  student     student     @relation(fields: [reg_no], references: [Register_No])

  @@index([course_code], name: "code_fk_idx")
  @@index([group_ref], name: "group_fk_idx")
  @@index([reg_no], name: "regno_fk_idx")
  @@index([session_ref], name: "session_fk_idx")
}
